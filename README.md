# Dockerized Test Automation Project

This project is designed to run automated API tests using data scraped from a documentation site. It automates generating a CSV file, runs HTTP tests based on this data, and creates an HTML report that can be viewed in a browser.

## Project Structure

- `main.py:` Scrapes API documentation to extract HTTP methods and paths and generates `data.csv`.
- `test_api.py:` Runs parameterized HTTP tests using the `data.csv` file and generates an HTML report.
- `requirements.txt:` Contains Python dependencies for the project.
- `data.csv:` CSV file generated by `main.py` containing method, path, and request body data.
- `Dockerfile:` Docker configuration for building and running the project.
- `start.sh:` A script to run `main.py`, wait for the CSV generation, and then run `test_api.py`.

## Prerequisites

Ensure you have [Docker](https://www.docker.com/) installed on your machine.

## How to Build and Run the Docker Containers

1. **Ensure `start.sh` is executable:**

   ```shell
   chmod +x start.sh
   ```

2. **Build the Docker Image and run the Containers:**

   To ensure proper execution of the main script and tests:

   ```shell
   docker-compose up --build
   ```

   This will spin up two containers:

   - **`test-runner`** container to execute `main.py` and `test_api.py`.
   - **`http-server`** container to serve `report.html` for viewing in your browser.

## What the Docker Containers Do

1. **Runs `main.py`:**
   Scrapes API documentation from `https://reqres.in/api-docs/#/` to generate `data.csv` with API paths and request bodies.

2. **Runs Tests with `test_api.py`:**
   Uses `pytest` to execute tests from `data.csv` and generates `report.html`.

3. **Serves `report.html`:**
   The `http-server` container hosts the report on `http://localhost:8080/report.html` for easy viewing.

## Example Workflow

After running `docker-compose up`, `report.html` will be generated in your project folder. The `http-server` container will serve it at `http://localhost:8080/report.html`, and you can open this link in your browser to view the results.

### Handling Dependencies

All required Python packages are listed in `requirements.txt`, which will be installed during the Docker build process:

- `selenium`
- `pytest`
- `requests`
- `pytest-html`


